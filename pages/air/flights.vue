<template>
    <section class="contianer">
        <el-row  type="flex" justify="space-between">

            <!-- é¡¶éƒ¨è¿‡æ»¤åˆ—è¡¨ -->
            <div class="flights-content">
                <!-- è¿‡æ»¤æ¡ä»¶ -->
                <div>
                    
                </div>
                
                <!--ğŸš©ğŸš©1. èˆªç­å¤´éƒ¨å¸ƒå±€ -->
                <flightsListHead/>
                
                
                <!-- èˆªç­ä¿¡æ¯ -->
                <div>
                     <!--ğŸš©ğŸš©2. èˆªç­åˆ—è¡¨ -->
                    <flightsItem v-for="(v,index) in dataList" :key="index" :data=v /> 
                </div>
            </div>

            <!-- ä¾§è¾¹æ  -->
            <div class="aside">
                <!-- ä¾§è¾¹æ ç»„ä»¶ -->
            </div>
        </el-row>
    </section>
</template>

<script>
import flightsListHead from '@/components/air/flightsListHead.vue'
import flightsItem from '@/components/air/flightsItem.vue'
import {airsList} from '@/myapi/user.js'

export default {
    data () {
        return {
            flightsData:{},   // èˆªç­æ€»æ•°æ®
            dataList: [],      //èˆªç­åˆ—è¡¨æ•°æ®ï¼Œå¾ªç¯æ¸²æŸ“flightsItemç»„ä»¶ï¼Œå•ç‹¬å‡ºæ¥æ˜¯å› ä¸ºè¦åˆ†é¡µ
        }
    },

    components: {
        flightsListHead,flightsItem
    },
     // è·å–èˆªç­æ€»æ•°æ®
    async mounted () {
        let res = await airsList(this.$route.query)   //urlä¸Šé¢çš„å‚æ•°
        this.flightsData=res.data
        this.dataList = this.flightsData.flights;

        console.log(this.flightsData);
        console.log(this.dataList);

    }

}
</script>

<style scoped lang="less">
    .contianer{
        width:1000px;
        margin:20px auto;
    }

    .flights-content{
        width:745px;
        font-size:14px;
    }

    .aside{
        width:240px;
    } 
</style>